id: content_import_paragraph_to_nodes
label: Import paragraphs to nodes fi
migration_group: infofinland_content
dependencies:
  enforced:
    module:
      - infofinland_migrate

destination:
  plugin: 'entity:node'
source:
  plugin: csv
  path: modules/custom/infofinland_migrate/sources/migrate_link_nodes.csv
  # change if not unique enough
  delimiter: ','
  ids: [id]
process:
  type:
    plugin: default_value
    default_value: link
  langcode: kieli
  default_langcode:
    plugin: default_value
    default_value: true
  title: Linkin Nimi
  # for finding links
  field_link_description: Linkin Kuvaus
  # is hallintaorg still needed?
  # hallintaorg: Linkin hallintaorg
  field_link_target_site: Kohde (Organisaatio)
  # migration map reference to paragraph language_link
  field_links:
    source: id
    plugin: transform_paragraph
    process:
      target_id: target_id
      target_revision_id: target_revision_id
